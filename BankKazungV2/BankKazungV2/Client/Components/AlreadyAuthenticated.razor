@inject ILocalStorageService LocalStorage
@inject AuthenticationStateProvider AuthStateProvider

<MudContainer MaxWidth="MaxWidth.Small">
    <MudCard Elevation="3">
        <MudCardHeader>
            <CardHeaderContent>
                <MudText Typo="Typo.h6">You're already logged in!</MudText>
            </CardHeaderContent>
            <CardHeaderActions>
                <MudIconButton OnClick="OnLogout" Icon="@Icons.Material.Filled.Logout" Color="Color.Default" />
            </CardHeaderActions>
        </MudCardHeader>
    </MudCard>
</MudContainer>

@code {
    private async Task OnLogout()
    {
        await LocalStorage.RemoveItemAsync("token");
        await AuthStateProvider.GetAuthenticationStateAsync();
        StateHasChanged();
    }
}
